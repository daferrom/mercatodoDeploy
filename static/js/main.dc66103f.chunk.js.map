{"version":3,"sources":["pages/user/Global.jsx","pages/admin/Admin.jsx","components/navbar/NavBar.jsx","components/footer/Footer.jsx","pages/login/Login.jsx","routes/Routes.jsx","App.js","index.js"],"names":["Global","useState","data","setData","search","setSearch","peticionGet","a","axios","get","then","response","products","bring","useEffect","filteredProducts","filter","dato","pro_name","toLowerCase","includes","className","Container","Button","color","type","placeholder","onChange","e","target","value","onClick","mostrarModalInsertar","Table","map","id","pro_provider","pro_existences","pro_date","pro_description","pro_category","editar","state","form","eliminar","cookies","Cookies","Admin","logOut","remove","path","window","location","href","console","log","Component","NavBar","Footer","baseUrl","Login","username","password","handleChange","setState","name","logIn","params","md5","length","reply","set","first_lastname","second_lastname","alert","catch","error","this","Routes","basename","process","exact","component","props","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc66103f.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport \"../../components/products/products.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n    Table,\r\n    Button,\r\n    Container,\r\n    \r\n} from \"reactstrap\";\r\n\r\nconst baseUrl='https://apimercatodo.herokuapp.com/api/products/'\r\n\r\n\r\nfunction Global() {\r\n\r\n  const [data, setData]=useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n \r\n  const peticionGet=async()=>{\r\n    await axios.get(baseUrl)\r\n    .then(response=>{\r\n      setData(response.data.products);\r\n    })\r\n  }\r\n  \r\n\r\n  const bring=async()=>{\r\n    await peticionGet();\r\n  }\r\n\r\n  useEffect (bring)\r\n\r\n  const filteredProducts = data.filter(dato => {\r\n        return dato.pro_name.toLowerCase().includes(search.toLowerCase())\r\n    }  )\r\n  \r\n return (\r\n           <>\r\n                <header>\r\n                    <h1>Mercatodo</h1>\r\n                </header>\r\n                <div className=\"all\">\r\n                    <Container>\r\n                        \r\n                        <div className=\"buscador\">\r\n                            <br />\r\n                            <p>Bienvenido encuentra lo que necesitas</p>\r\n                            <Button\r\n                                color=\"success\"\r\n                                // onClick={() => this.mostrarModalInsertar()}\r\n                            >\r\n                                +Agregar producto\r\n                            </Button>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder=\"Buscar\"\r\n                              onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                            <Button\r\n                                color=\"success\"\r\n                                onClick={() => this.mostrarModalInsertar()}\r\n                            >+Agregar\r\n                            </Button>\r\n                            \r\n                        </div>\r\n                        \r\n                        <br />\r\n                        <Table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID</th>\r\n                                    <th>Producto</th>\r\n                                    <th>Provedor</th>\r\n                                    <th>Cantidad</th>\r\n                                    <th>Fecha</th>\r\n                                    <th>Descripcion</th>\r\n                                    <th>Catergoria</th>\r\n                                    <th>Editar</th>\r\n                                    <th>Eliminar</th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                {filteredProducts.map(dato =>(\r\n                                    <tr key={dato.id}>\r\n                                        <td>{dato.id}</td>\r\n                                        <td>{dato.pro_name}</td>\r\n                                        <td>{dato.pro_provider}</td>\r\n                                        <td>{dato.pro_existences}</td>\r\n                                        <td>{dato.pro_date}</td>\r\n                                        <td>{dato.pro_description}</td>\r\n                                        <td>{dato.pro_category}</td>\r\n                                        <td>\r\n                                            <Button \r\n                                                color=\"primary\"\r\n                                                onClick={\r\n                                                    () => this.editar(this.state.form)\r\n                                                    }>\r\n                                                Editar\r\n                                            </Button>\r\n                                        </td>\r\n                                        <td><Button\r\n                                                color=\"danger\"\r\n                                                onClick={\r\n                                                    () =>this.eliminar(dato)\r\n                                                }>\r\n                                                Eliminar\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    </Container>\r\n                </div>  \r\n            </>\r\n )\r\n}\r\n\r\nexport default Global;","import React, { Component } from 'react';\r\nimport Cookies from 'universal-cookie';\r\nimport Global from '../user/Global'\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass Admin extends Component {\r\n\r\n    //borrar las variables al cerrar sesión\r\n    logOut=()=>{\r\n        cookies.remove('id', {path: \"/\"});\r\n        cookies.remove('first_lastname', {path: \"/\"});\r\n        cookies.remove('second_lastname', {path: \"/\"});\r\n        cookies.remove('name', {path: \"/\"});\r\n        cookies.remove('username', {path: \"/\"});\r\n        window.location.href='./';\r\n    }\r\n    \r\n    //si no existe username redirecciona a login\r\n    componentDidMount() {\r\n        if(!cookies.get('username')){\r\n            window.location.href=\"./\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log('id: '+ cookies.get('id'));\r\n        console.log('first_lastname: '+cookies.get('first_lastname'));\r\n        console.log('second_lastname: '+cookies.get('second_lastname'));\r\n        console.log('name: '+cookies.get('name'));\r\n        console.log('username: '+cookies.get('username'));\r\n        return (\r\n            <div>\r\n                <Global/>\r\n                <button onClick={()=>this.logOut()}>Cerrar Sesión</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\nimport '../navbar/navbar.css';\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <>\r\n           <div className=\"navbar\">\r\n            <h1 className=\"logo\">MERCATODO</h1>\r\n           </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n","import React from 'react';\r\nimport '../footer/footer.css'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <>\r\n        <footer>\r\n            <p className=\"footer\">© Copyright 2021 – Todos los derechos reservados – Desarrollado por SuperTeam</p>\r\n        </footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, {Component}from 'react';\r\nimport './login.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport md5 from 'md5';\r\nimport Cookies from 'universal-cookie';\r\nimport NavBar from '../../components/navbar/NavBar';\r\nimport Footer from '../../components/footer/Footer';\r\n//import * as LogInServer from './LogInServer'\r\n\r\n//url para petición\r\nconst baseUrl=\"http://localhost:3001/usuarios\";;\r\n\r\n//guardar la var inicio de sesión\r\nconst cookies = new Cookies();\r\n\r\nclass Login extends Component {\r\n    //ESTADO capturar lo que el usuario escribe en el input\r\n\r\n    state={\r\n        form:{\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    //METODO para guardar en el estado capturar los inputs\r\n    handleChange=async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        });\r\n        console.log(this.state.form);\r\n    }\r\n\r\n    //login es un fucncion = peticion tipo get=consultar info \r\n   /*\r\n    componentDidMount () {\r\n        fetch(baseUrl)\r\n        .then(response => console.log(response))\r\n    }\r\n    */ \r\n   \r\n   \r\n   \r\n    /*\r\n    logIn = async () => {\r\n        try {\r\n            const res = await ProductServer.listProducts();\r\n            const data = await res.json();\r\n            console.log(data);\r\n            //setProducts(res.data);\r\n        } catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n    */\r\n    \r\n    logIn=async()=>{\r\n        await axios.get(baseUrl, {params: {username: this.state.form.username, password: md5(this.state.form.password)}})\r\n        .then(response=>{\r\n            return response.data; //retornamos la data del api cuando el inicio de sesion es correcto\r\n        })\r\n        .then(response=>{  \r\n            if(response.length>0){  //usamos la data response length mayor a 0 y encuentra la data\r\n                var reply=response[0]; \r\n                cookies.set('id', reply.id, {path: \"/\"});\r\n                cookies.set('first_lastname', reply.first_lastname, {path: \"/\"});\r\n                cookies.set('second_lastname', reply.second_lastname, {path: \"/\"});\r\n                cookies.set('name', reply.name, {path: \"/\"});\r\n                cookies.set('username', reply.username, {path: \"/\"});\r\n                alert(`Bienvenido ${reply.name} ${reply.first_lastname}`);\r\n                window.location.href=\"./admin\";   //redirigir la pagina\r\n            }else{\r\n                window.location.href=\"./user\";   //redirigir la pagina\r\n            }\r\n        })\r\n        .catch(error=>{\r\n            console.log(error);\r\n        })\r\n\r\n    }\r\n    //redirecciona a tabla de productos\r\n    componentDidMount() {\r\n        if(cookies.get('username')){\r\n            window.location.href=\"./admin\";\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n    <div className=\"master\">\r\n        <NavBar />\r\n        <div className=\"firstContainer\">\r\n            <div className=\"secondContainer\">\r\n            <div className=\"form-group\">\r\n                <label>Usuario: </label>\r\n                <br />\r\n                <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                onChange={this.handleChange}\r\n                />\r\n                <br />\r\n                <label>Contraseña: </label>\r\n                <br />\r\n                <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                onChange={this.handleChange}\r\n                />\r\n                <br />\r\n                <button className=\"btn btn-warning\" onClick={()=> this.logIn()}>Iniciar Sesión</button>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <Footer/>\r\n      </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport User from '../components/userview/User';\r\nimport Admin from '../pages/admin/Admin';\r\nimport Login from '../pages/login/Login';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Login}/>\r\n                <Route path=\"/admin\" component={Admin}/>\r\n                <Route path=\"/user\" component={props => <User {...props}/>}/>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Routes\r\n","import Routes from './routes/Routes';\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Routes/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n        <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}