(this["webpackJsonpcrud-mercatodo"]=this["webpackJsonpcrud-mercatodo"]||[]).push([[0],{42:function(e,t){},69:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t){},82:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(41),s=n.n(a),o=n(15),i=n(27),j=n(4),l=n(42),d=n.n(l),u=n(19),h=n(20),b=n(24),O=n(22),m=n(23),p=n(11),x=n.n(p),f=n(13),g=n(29),v=n(21),w=n.n(v),C=(n(69),n(38),n(84)),y=n(86),_=n(85),k=n(0);var N=function(){var e=this,t=Object(r.useState)([]),n=Object(g.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),o=Object(g.a)(s,2),i=o[0],j=o[1],l=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://apimercatodo.herokuapp.com/api/products/").then((function(e){a(e.data.products)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(d);var u=c.filter((function(e){return e.pro_name.toLowerCase().includes(i.toLowerCase())}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("header",{children:Object(k.jsx)("h1",{children:"Mercatodo"})}),Object(k.jsx)("div",{className:"all",children:Object(k.jsxs)(C.a,{children:[Object(k.jsxs)("div",{className:"buscador",children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Bienvenido encuentra lo que necesitas"}),Object(k.jsx)(y.a,{color:"success",children:"+Agregar producto"}),Object(k.jsx)("input",{type:"text",placeholder:"Buscar",onChange:function(e){return j(e.target.value)}}),Object(k.jsx)(y.a,{color:"success",onClick:function(){return e.mostrarModalInsertar()},children:"+Agregar"})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(_.a,{children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"ID"}),Object(k.jsx)("th",{children:"Producto"}),Object(k.jsx)("th",{children:"Provedor"}),Object(k.jsx)("th",{children:"Cantidad"}),Object(k.jsx)("th",{children:"Fecha"}),Object(k.jsx)("th",{children:"Descripcion"}),Object(k.jsx)("th",{children:"Catergoria"}),Object(k.jsx)("th",{children:"Editar"}),Object(k.jsx)("th",{children:"Eliminar"})]})}),Object(k.jsx)("tbody",{children:u.map((function(t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t.id}),Object(k.jsx)("td",{children:t.pro_name}),Object(k.jsx)("td",{children:t.pro_provider}),Object(k.jsx)("td",{children:t.pro_existences}),Object(k.jsx)("td",{children:t.pro_date}),Object(k.jsx)("td",{children:t.pro_description}),Object(k.jsx)("td",{children:t.pro_category}),Object(k.jsx)("td",{children:Object(k.jsx)(y.a,{color:"primary",onClick:function(){return e.editar(e.state.form)},children:"Editar"})}),Object(k.jsx)("td",{children:Object(k.jsx)(y.a,{color:"danger",onClick:function(){return e.eliminar(t)},children:"Eliminar"})})]},t.id)}))})]})]})})]})},D=new m.a,E=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).logOut=function(){D.remove("id",{path:"/"}),D.remove("first_lastname",{path:"/"}),D.remove("second_lastname",{path:"/"}),D.remove("name",{path:"/"}),D.remove("username",{path:"/"}),window.location.href="./"},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){D.get("username")||(window.location.href="./")}},{key:"render",value:function(){var e=this;return console.log("id: "+D.get("id")),console.log("first_lastname: "+D.get("first_lastname")),console.log("second_lastname: "+D.get("second_lastname")),console.log("name: "+D.get("name")),console.log("username: "+D.get("username")),Object(k.jsxs)("div",{children:[Object(k.jsx)(N,{}),Object(k.jsx)("button",{onClick:function(){return e.logOut()},children:"Cerrar Sesi\xf3n"})]})}}]),n}(r.Component),S=E,I=n(18),M=(n(73),n(43)),A=n.n(M),B=(n(76),function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"navbar",children:Object(k.jsx)("h1",{className:"logo",children:"MERCATODO"})})})}),F=(n(77),function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("footer",{children:Object(k.jsx)("p",{className:"footer",children:"\xa9 Copyright 2021 \u2013 Todos los derechos reservados \u2013 Desarrollado por SuperTeam"})})})}),T=(n(78),"http://localhost:3001/usuarios"),J=new m.a,L=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={form:{username:"",password:""}},e.handleChange=function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({form:Object(o.a)(Object(o.a)({},e.state.form),{},Object(I.a)({},n.target.name,n.target.value))});case 2:console.log(e.state.form);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.logIn=Object(f.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get(T,{params:{username:e.state.form.username,password:A()(e.state.form.password)}}).then((function(e){return e.data})).then((function(e){if(e.length>0){var t=e[0];J.set("id",t.id,{path:"/"}),J.set("first_lastname",t.first_lastname,{path:"/"}),J.set("second_lastname",t.second_lastname,{path:"/"}),J.set("name",t.name,{path:"/"}),J.set("username",t.username,{path:"/"}),alert("Bienvenido ".concat(t.name," ").concat(t.first_lastname)),window.location.href="./admin"}else window.location.href="./user"})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){J.get("username")&&(window.location.href="./admin")}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"master",children:[Object(k.jsx)(B,{}),Object(k.jsx)("div",{className:"firstContainer",children:Object(k.jsx)("div",{className:"secondContainer",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{children:"Usuario: "}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:this.handleChange}),Object(k.jsx)("br",{}),Object(k.jsx)("label",{children:"Contrase\xf1a: "}),Object(k.jsx)("br",{}),Object(k.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.handleChange}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{className:"btn btn-warning",onClick:function(){return e.logIn()},children:"Iniciar Sesi\xf3n"})]})})}),Object(k.jsx)(F,{})]})}}]),n}(r.Component),P=L,q=function(){return Object(k.jsx)(i.a,{basename:"/mercatodoDeploy",children:Object(k.jsxs)(j.c,{children:[Object(k.jsx)(j.a,{exact:!0,path:"/",component:P}),Object(k.jsx)(j.a,{path:"/admin",component:S}),Object(k.jsx)(j.a,{path:"/user",component:function(e){return Object(k.jsx)(d.a,Object(o.a)({},e))}})]})})};var R=function(){return Object(k.jsx)("div",{children:Object(k.jsx)(q,{})})};s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(R,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.e06c7051.chunk.js.map